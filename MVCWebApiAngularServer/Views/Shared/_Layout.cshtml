<!DOCTYPE html>
<html ng-app="App">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewBag.Title Goji Solutions</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/modernizr")

    <link href="Content/site.css" rel="stylesheet" />
    <link href="Content/elements.css" rel="stylesheet" />

    <script type="text/javascript" src="bower_components/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="bower_components/jquery-ui/jquery-ui.js"></script>
    <link rel="stylesheet" href="content/layout.css" />
    <script type="text/javascript" src="bower_components/jquery-knob/dist/jquery.knob.min.js"></script>


    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>

    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <!--<link href="Content/checkbox-buttons.min.css" rel="stylesheet" />-->
    <!--<script src="js/bootstrap-checkbox-1.2.8-dist/bootstrap-checkbox.min.js"></script>-->
    <!--<script src="js/Angular-route/angular-route.js"></script>-->
    <script type="text/javascript" src="bower_components/angular-ui-router/release/angular-ui-router.js"></script>

    <script type="text/javascript" src="bower_components/angular-cookies/angular-cookies.min.js"></script>

    

    <!--<script type="text/javascript" src="node_modules/restangular/dist/restangular.min.js"></script>-->
    <!--<script src="js/App.js"></script>-->
    <script src="js/baseUIRouter.js"></script>

    <script src="js/controllers/HomeCtrl.js"></script>
    <script src="js/controllers/dishesController.js"></script>

    <script src="js/services/HomeService.js"></script>
    <script src="js/services/dishesconfigService.js"></script>
    <script src="js/services/fileUploader.js"></script>

    <script src="/Scripts/jquery.signalR-2.0.3.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="/signalr/hubs"></script>

    <script type="text/javascript" src="bower_components/angular-msgbox/angular-msgbox.js"></script>
 


    <script>


        $(function () {

            var chat = $.connection.chatHub;

            chat.client.ShowMessage = function (text) {


                var controllerElement = document.querySelector('body');
                var controllerScope = angular.element(controllerElement).scope();
                if (controllerScope != "undefined")
                    controllerScope.ShowAlert(text);

            }
            chat.client.UpdateClock = function (time) {

                var controllerElement = document.querySelector('body');
                var controllerScope = angular.element(controllerElement).scope();
                if (controllerScope != "undefined")
                    controllerScope.UpdateClock(time);
            }
            chat.client.MotorUpdateValue = function (value) {

                var controllerElement = document.querySelector('body');
                var controllerScope = angular.element(controllerElement).scope();
                if (controllerScope != "undefined")
                    controllerScope.MotorUpdateValue(value);
            }

            


            $.connection.hub.error(function (err) {
                console.log('An error occurred: ' + err);
            });

            // Start the connection.
            $.connection.hub.start().done(function () {

                // Call the Send method on the hub.
                //chat.server.send("eli", "arad");
                //chat.server.registerHome($.connection.hub.id, User.Identity.Name);
                //alert($.connection.hub.id);
                //ShowAllSensorsOnView(true, $.connection.hub.id);

            });

        });

    </script>





    <style>
        .navbar {
            border-radius: 0;
        }
    </style>


</head>
<body ng-controller="HomeCtrl">

    <div class="container-fluid">
        <div>
            @RenderBody()
            
        </div>
        <footer>

        </footer>
    </div>
    @RenderSection("scripts", required: false)
</body>
</html>
